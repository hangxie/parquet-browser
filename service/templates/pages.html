{{define "pages"}}
<div class="breadcrumb">
    <a href="/ui/main" hx-get="/ui/main" hx-target="#content-area" hx-swap="innerHTML" hx-push-url="true">Home</a>
    <span>/</span>
    <a href="/ui/rowgroups" hx-get="/ui/rowgroups" hx-target="#content-area" hx-swap="innerHTML" hx-push-url="true">Row Groups</a>
    <span>/</span>
    <a href="/ui/rowgroups/{{.RowGroupIndex}}/columns" hx-get="/ui/rowgroups/{{.RowGroupIndex}}/columns" hx-target="#content-area" hx-swap="innerHTML" hx-push-url="true">Row Group {{.RowGroupIndex}}</a>
    <span>/</span>
    <span>Column {{.ColumnIndex}}</span>
</div>

<div class="card">
    <h2>Column Chunk Info - Row Group {{.RowGroupIndex}}, Column {{.ColumnIndex}}</h2>
    <div class="info-grid">
        {{if .ColumnPath}}
        <div class="info-item" style="grid-column: 1 / -1;">
            <strong>Column</strong>
            <span>{{.ColumnPath}}</span>
        </div>
        {{end}}
        {{if .PhysicalType}}
        <div class="info-item">
            <strong>Type</strong>
            <span class="badge badge-primary">{{.PhysicalType}}</span>
        </div>
        {{end}}
        {{if .LogicalType}}
        <div class="info-item">
            <strong>Logical</strong>
            <span class="badge badge-info">{{.LogicalType}}</span>
        </div>
        {{end}}
        {{if .ConvertedType}}
        <div class="info-item">
            <strong>Converted</strong>
            <span class="badge badge-info">{{.ConvertedType}}</span>
        </div>
        {{end}}
        {{if .Codec}}
        <div class="info-item">
            <strong>Codec</strong>
            <span class="badge badge-success">{{.Codec}}</span>
        </div>
        {{end}}
        <div class="info-item">
            <strong>Values</strong>
            <span>{{.ColumnNumValues}}</span>
        </div>
        <div class="info-item">
            <strong>Nulls</strong>
            <span>{{.ColumnNullCount}}</span>
        </div>
        <div class="info-item">
            <strong>Pages</strong>
            <span>{{.TotalPages}}</span>
        </div>
        <div class="info-item">
            <strong>Size</strong>
            <span>{{.ColumnCompressedSize}} â†’ {{.ColumnUncompressedSize}} ({{.ColumnCompressionRatio}})</span>
        </div>
        {{if .ColumnMinValue}}
        <div class="info-item">
            <strong>Min</strong>
            <span>{{.ColumnMinValue}}</span>
        </div>
        {{end}}
        {{if .ColumnMaxValue}}
        <div class="info-item">
            <strong>Max</strong>
            <span>{{.ColumnMaxValue}}</span>
        </div>
        {{end}}
    </div>
</div>

<div class="card">
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Page Type</th>
                <th>Offset</th>
                <th>Compressed Size</th>
                <th>Uncompressed Size</th>
                <th>Num Values</th>
                <th>Encoding</th>
                <th>Min</th>
                <th>Max</th>
            </tr>
        </thead>
        <tbody>
            {{range $index, $page := .Pages}}
            <tr>
                <td><a href="/ui/rowgroups/{{$.RowGroupIndex}}/columns/{{$.ColumnIndex}}/pages/{{$page.Index}}/content"
                       hx-get="/ui/rowgroups/{{$.RowGroupIndex}}/columns/{{$.ColumnIndex}}/pages/{{$page.Index}}/content"
                       hx-target="#content-area"
                       hx-swap="innerHTML"
                       hx-push-url="true">{{$page.Index}}</a></td>
                <td><span class="badge badge-primary">{{$page.PageType}}</span></td>
                <td>{{$page.Offset}}</td>
                <td>{{$page.CompressedSize}}</td>
                <td>{{$page.UncompressedSize}}</td>
                <td>{{$page.NumValues}}</td>
                <td>{{$page.Encoding}}</td>
                <td title="{{$page.MinValue}}">{{$page.MinValue}}</td>
                <td title="{{$page.MaxValue}}">{{$page.MaxValue}}</td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}
