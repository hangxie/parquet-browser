{{define "main"}}
<div class="breadcrumb">
    <a href="/ui/main" hx-get="/ui/main" hx-target="#content-area" hx-swap="innerHTML" hx-push-url="true">Home</a>
</div>

<div class="card">
    <h2>File Information</h2>
    <div class="info-grid">
        <div class="info-item" style="grid-column: 1 / -1;">
            <strong>File</strong>
            <span>{{.FileName}}</span>
        </div>
        <div class="info-item">
            <strong>Version</strong>
            <span>{{.Version}}</span>
        </div>
        <div class="info-item">
            <strong>Row Groups</strong>
            <span>{{.NumRowGroups}}</span>
        </div>
        <div class="info-item">
            <strong>Rows</strong>
            <span>{{.TotalRows}}</span>
        </div>
        <div class="info-item">
            <strong>Columns</strong>
            <span>{{.LeafColumns}}</span>
        </div>
        <div class="info-item">
            <strong>Total Size</strong>
            <span>{{.TotalCompressedSize}} â†’ {{.TotalUncompressedSize}} ({{.CompressionRatio}})</span>
        </div>
        {{if .CreatedBy}}
        <div class="info-item" style="grid-column: 1 / -1;">
            <strong>Created By</strong>
            <span>{{.CreatedBy}}</span>
        </div>
        {{end}}
    </div>
</div>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
        <h2 style="margin: 0;">Row Groups ({{.NumRowGroups}})</h2>
        <button hx-get="/ui/schema" hx-target="#content-area" hx-swap="innerHTML" hx-push-url="true">View Schema</button>
    </div>
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Rows</th>
                <th>Compressed Size</th>
                <th>Uncompressed Size</th>
                <th>Ratio</th>
            </tr>
        </thead>
        <tbody>
            {{range $index, $rg := .RowGroups}}
            <tr>
                <td><a href="/ui/rowgroups/{{$rg.Index}}/columns"
                       hx-get="/ui/rowgroups/{{$rg.Index}}/columns"
                       hx-target="#content-area"
                       hx-swap="innerHTML"
                       hx-push-url="true">{{$rg.Index}}</a></td>
                <td>{{$rg.NumRows}}</td>
                <td>{{$rg.CompressedSize}}</td>
                <td>{{$rg.UncompressedSize}}</td>
                <td>{{$rg.CompressionRatio}}</td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}
